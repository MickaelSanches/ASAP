import{j as s}from"./jsx-runtime.CRkqtJS5.js";import{r as c}from"./index.B52nOzfP.js";const d={_origin:"https://api.emailjs.com"},j=(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e},h=(t,e,r)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class x{constructor(e){this.status=e.status,this.text=e.responseText}}const b=(t,e,r={})=>new Promise((i,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:a})=>{const l=new x(a);l.status===200||l.text==="OK"?i(l):n(l)}),o.addEventListener("error",({target:a})=>{n(new x(a))}),o.open("POST",d._origin+t,!0),Object.keys(r).forEach(a=>{o.setRequestHeader(a,r[a])}),o.send(e)}),N=(t,e,r,i)=>{const n=i||d._userID;return h(n,t,e),b("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"})},w=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},_=(t,e,r,i)=>{const n=i||d._userID,o=w(r);h(n,t,e);const a=new FormData(o);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",n),b("/api/v1.0/email/send-form",a)},y={init:j,send:N,sendForm:_},F=()=>{const[t,e]=c.useState(""),[r,i]=c.useState(""),[n,o]=c.useState(""),[a,l]=c.useState(!1),[f,p]=c.useState(!1),g=m=>{m.preventDefault(),l(!1),p(!1);const v={name:t,email:r,message:n};y.send("service_h0l706m","template_mf6iwzk",v,"43IdmF114wAGVCqb2").then(u=>{console.log("Email successfully sent:",u.status,u.text),l(!0)}).catch(u=>{console.error("Failed to send email:",u),p(!0)})};return s.jsxs("div",{className:"container mx-auto p-8",children:[s.jsx("h2",{className:"tracking-wider text-2xl mb-4 text-center text-rose",children:"CONTACTEZ-NOUS"}),s.jsxs("form",{onSubmit:g,className:"max-w-lg mx-auto bg-white shadow-lg p-8",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"name",className:"block text-sm mb-2 text-gray-800",children:"Nom / Prénom"}),s.jsx("input",{id:"name",type:"text",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 border rounded text-black",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm mb-2 text-gray-800",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:r,onChange:m=>i(m.target.value),className:"w-full p-2 border rounded text-black",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"message",className:"block text-sm mb-2 text-gray-800",children:"Message"}),s.jsx("textarea",{id:"message",value:n,onChange:m=>o(m.target.value),className:"w-full p-2 border rounded text-black",rows:"5",required:!0})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"submit",className:"bg-rose hover:bg-violet text-white font-bold py-2 px-4 focus:outline-none focus:shadow-outline border-0",children:"Envoyer"})}),a&&s.jsx("p",{className:"mt-4 text-green-500 text-center",children:"Votre message a été envoyé avec succès."}),f&&s.jsx("p",{className:"mt-4 text-red-500 text-center",children:"Une erreur s'est produite. Veuillez réessayer."})]})]})};export{F as default};
